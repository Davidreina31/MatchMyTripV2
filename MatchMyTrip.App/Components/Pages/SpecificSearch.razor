@page "/specificSearch"
@rendermode InteractiveServer

<h3>SpecificSearch</h3>

<input placeholder="destination" @bind="@SearchByFilters.Filter.Destination" />
<br />
<br />
<input placeholder="nombre de jours" type="number" @bind="@SearchByFilters.Filter.NbrOfDays" />
<br />
<br />

<InputSelect @bind-Value="@SearchByFilters.Filter.Seasons">
    @foreach (var item in Enum.GetValues(typeof(Domain.enums.Seasons)))
    {
        <option value="@item">@item</option>
    }
</InputSelect>

<button type="submit" class="btn-primary" onclick="@HandleValidSubmit">rechercher</button>

<br />
<br />
<br />


<h4>@ErrorMsg</h4>

@if(Journeys != null)
{
    <table class="table table-striped table-light">
        <thead>
            <tr>
                <th scope="col">Pseudo</th>
                <th scope="col">Destination</th>
                <th scope="col">Nombre de jours</th>
                <th scope="col">Saison</th>
                <th scope="col">Match score</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Journeys.OrderByDescending(x => x.MatchScore))
            {
                <tr>
                    <td>@item.User.UserName</td>
                    <td>@item.Destination</td>
                    <td>@item.NbrOfDays</td>
                    <td>@item.Seasons</td>
                    <td>@item.MatchScore/3</td>

                    <td><a href="@("/journey/" + item.Id)">Voir détails</a></td>
                </tr>
            }
        </tbody>
    </table>
}